% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{build_person_day_table}
\alias{build_person_day_table}
\title{Construct long format person day data}
\usage{
build_person_day_table(dt, tmax, cases_t, covariate_cols = character(0))
}
\arguments{
\item{dt}{data.table. Individual level data with infection or imputation results from \code{\link{infectious_time_imputation}}.}

\item{tmax}{Integer. Maximum day index}

\item{cases_t}{Numeric vector of length \code{tmax + 1}. Community intensity on days 0 to \code{tmax}.}

\item{covariate_cols}{Character vector. Names of row level covariates to copy.}
}
\value{
A long format \code{data.table} with columns
\code{agegrp2}, \code{agegrp3}, \code{agegrp4},
\code{n_inf}, \code{n_inf_infant}, \code{n_inf_sibling}, \code{n_inf_adult}, \code{n_inf_elder},
\code{cases}, \code{event}, \code{ID_indiv}, \code{ID_hh}, \code{day}, and the requested covariates.
}
\description{
Builds a person day table for likelihood based parameter estimation by expanding
individual level timelines into daily observations and computing same household
infectious counts by infector role.
}
\examples{
\dontrun{
long_dt <- build_person_day_table(imputed, tmax = 200, cases_t = rep(0.001, 201))
head(long_dt)
}
}
