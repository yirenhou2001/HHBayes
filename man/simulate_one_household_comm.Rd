% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils-simulatehouseholds.R
\name{simulate_one_household_comm}
\alias{simulate_one_household_comm}
\title{Simulate one household (RSV/VL engine)}
\usage{
simulate_one_household_comm(
  hh_id,
  roles,
  alpha_comm_by_role,
  beta1 = 0.06,
  beta2 = 1e-07,
  delta = 1,
  rho = 3,
  V_ref = 1e+07,
  phi_by_role = c(adult = 1, child = 1.1, elderly = 0.8, toddler = 1.2),
  kappa_by_role = c(adult = 1, child = 1.1, elderly = 0.7, toddler = 1.2),
  latent_shape = 2,
  latent_scale = 1,
  infectious_shape = 2,
  infectious_scale = 2,
  peak_day = 2,
  width = 2,
  max_days = 40,
  test_weekly_before_detection = TRUE,
  perfect_detection = TRUE,
  contact_mat = NULL,
  verbose = FALSE,
  seasonal_forcing_list = NULL
)
}
\arguments{
\item{hh_id}{Household identifier.}

\item{roles}{Character vector of roles (one per person).}

\item{alpha_comm_by_role}{Numeric; baseline community hazard (scalar).}

\item{beta1, beta2, delta, rho, V_ref}{Numeric; transmission constants.}

\item{phi_by_role, kappa_by_role}{Named numeric vectors; susceptibility and
infectivity multipliers by role.}

\item{latent_shape, latent_scale, infectious_shape, infectious_scale}{Numeric;
gamma parameters for latent/infectious durations.}

\item{peak_day, width}{Numeric; infectivity profile controls.}

\item{max_days}{Integer; simulation horizon (days).}

\item{test_weekly_before_detection}{Logical; weekly testing before first detection.}

\item{perfect_detection}{Logical; perfect detection on test days.}

\item{contact_mat}{Optional square contact matrix (no self-contact).}

\item{verbose}{Logical; print progress.}

\item{seasonal_forcing_list}{Optional list of length 4 with role-specific
seasonal multipliers (length \code{max_days}).}
}
\value{
A data frame with columns
\code{hh_id}, \code{person_id}, \code{role}, \code{infection_time},
\code{infectious_start}, \code{infectious_end}, \code{detection_time},
\code{infection_resolved}, plus list-columns \code{vl_full_trajectory},
\code{viral_loads_test_days}. Attributes \code{test_days} and \code{params}
are attached.
}
\description{
Simulates infection events, infectious periods, detection, and VL trajectories
for a single household over a fixed horizon.
}
