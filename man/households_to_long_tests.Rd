% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/episode-data-summary.R, R/utils-bayesian.R
\name{households_to_long_tests}
\alias{households_to_long_tests}
\title{Flatten simulator households to a long test-day table}
\usage{
households_to_long_tests(households, seasonal_forcing_list = NULL)

households_to_long_tests(households, seasonal_forcing_list = NULL)
}
\arguments{
\item{households}{List of household data frames from the simulator (each may
carry attributes such as \code{test_days} and per-person
\code{viral_loads_test_days}).}

\item{seasonal_forcing_list}{Optional named list of role-specific forcing
series (\code{adult}, \code{child}, \code{elderly}, \code{toddler}).}
}
\value{
Data frame with columns:
\code{HH}, \code{individual_ID}, \code{role}, \code{test_date}, \code{infection_status}
and (if available) \code{community_risk}.

A data frame with columns
\code{HH}, \code{individual_ID}, \code{role}, \code{test_date},
\code{infection_status}, \code{community_risk}, \code{vl_test}.
}
\description{
Expands simulator output to per-person per-day rows suitable for legacy
processing and plotting.

Flattens simulator output (list of per-household data frames) into a long
table with one row per person-day.
}
\details{
If \code{test_days} is absent, the horizon is inferred from
\code{infectious_end}/\code{infection_resolved} (fallback to 1). Missing \code{infection_status}
is treated as 0. Household index in the list is used for \code{HH}.
}
