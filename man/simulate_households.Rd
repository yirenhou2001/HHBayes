% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils-simulatehouseholds.R
\name{simulate_households}
\alias{simulate_households}
\title{Simulate households (legacy or RSV/VL engine)}
\usage{
simulate_households(
  n_households,
  hh.size,
  tests.per.week = 1,
  engine = c("legacy", "rsv_vl"),
  simulation_function = generate_synthetic_data_one,
  Covariates = FALSE,
  Covariates_list = c("Vaccination status", "Antibody Level"),
  Covariate_specifications = NULL,
  amplitude = 0,
  phase = 0,
  start_date = as.Date("2024-09-21"),
  end_date = as.Date("2025-04-17"),
  max_days = NULL,
  p.comm.base.infant.fix = 0.002,
  p.comm.multiplier.sibling = 1,
  p.comm.multiplier.parent = 1,
  p.comm.multiplier.elder = 1,
  p.hh.base.infant = 0.2,
  p.hh.multiplier.sibling = 0.5267686,
  p.hh.multiplier.parent = 0.8008933,
  p.hh.multiplier.elder = 0.6008933,
  p.imm.base.sibling = 1e-10,
  p.imm.base.parent = 1e-10,
  p.imm.base.elder = 1e-10,
  partial.immunity.infant = 1e-10,
  partial.immunity.sibling = 1e-10,
  partial.immunity.parent = 1e-10,
  partial.immunity.elder = 1e-10,
  duration.latent = 1,
  duration.infect.inf = 2,
  multiplier.dur.sibpar = 0.5,
  p.detect = 0.999,
  seasonal_forcing_list = NULL
)
}
\arguments{
\item{n_households}{Integer; number of households.}

\item{hh.size}{Integer or vector; household size(s).}

\item{tests.per.week}{Integer; testing frequency (legacy).}

\item{engine}{Character; one of \code{c("legacy","rsv_vl")}.}

\item{simulation_function}{Function used by the legacy engine to simulate one
household (defaults to \code{generate_synthetic_data_one}).}

\item{Covariates}{Logical; include synthetic covariates (legacy).}

\item{Covariates_list}{Character vector; names of covariates (legacy).}

\item{Covariate_specifications}{Optional list; covariate generation controls (legacy).}

\item{amplitude, phase}{Numeric seasonality knobs (legacy/upstream only).}

\item{start_date, end_date}{\code{Date} study window (RSV/VL path and inference).}

\item{max_days}{Optional integer; horizon to stamp as attribute
\code{"test_days"} on each household.}

\item{p.comm.base.infant.fix}{Numeric; base community risk (infant; legacy).}

\item{p.comm.multiplier.sibling}{Numeric; community multiplier (sibling; legacy).}

\item{p.comm.multiplier.parent}{Numeric; community multiplier (parent; legacy).}

\item{p.comm.multiplier.elder}{Numeric; community multiplier (elder; legacy).}

\item{p.hh.base.infant}{Numeric; base HH transmission (infant; legacy).}

\item{p.hh.multiplier.sibling}{Numeric; HH multiplier (sibling; legacy).}

\item{p.hh.multiplier.parent}{Numeric; HH multiplier (parent; legacy).}

\item{p.hh.multiplier.elder}{Numeric; HH multiplier (elder; legacy).}

\item{p.imm.base.sibling}{Numeric; baseline immunity (sibling; legacy).}

\item{p.imm.base.parent}{Numeric; baseline immunity (parent; legacy).}

\item{p.imm.base.elder}{Numeric; baseline immunity (elder; legacy).}

\item{partial.immunity.infant}{Numeric; partial immunity (infant; legacy).}

\item{partial.immunity.sibling}{Numeric; partial immunity (sibling; legacy).}

\item{partial.immunity.parent}{Numeric; partial immunity (parent; legacy).}

\item{partial.immunity.elder}{Numeric; partial immunity (elder; legacy).}

\item{duration.latent}{Integer; latent duration (legacy).}

\item{duration.infect.inf}{Integer; infectious duration (legacy).}

\item{multiplier.dur.sibpar}{Numeric; duration multiplier for sibling/parent (legacy).}

\item{p.detect}{Numeric; detection probability per test (legacy).}

\item{seasonal_forcing_list}{Optional named list (\code{adult, child, elderly, toddler})
for RSV/VL downstream use.}
}
\value{
If \code{engine="legacy"}: a list of per-household data frames (each may
carry \code{attr(., "test_days")}). If \code{engine="rsv_vl"}: a long test-day
data frame with attribute \code{"households"} holding the per-household list.
}
\description{
Generates synthetic household data for downstream MLE or RSV/VLâ€“Stan
pipelines. Returns per-household data frames (legacy) or a long test-day
table with an attached per-household list (RSV/VL).
}
